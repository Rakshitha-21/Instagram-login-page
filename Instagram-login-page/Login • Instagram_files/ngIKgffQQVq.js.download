;/*FB_PKG_DELIM*/

__d("FxSsoFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1792439");b=d("FalcoLoggerInternal").create("fx_sso",a);e=b;g["default"]=e}),98);
__d("PolarisFXCalSSOLogger",["FxSsoFalcoEvent","PolarisConfig"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.event,e=a.target_account_id,f=e===void 0?null:e;e=a.target_account_type;var g=e===void 0?null:e;c("FxSsoFalcoEvent").log(function(){return{event:b,initiator_account_id:d("PolarisConfig").getViewerId(),initiator_account_type:1,target_account_id:f,target_account_type:g}})}g.logEvent=a}),98);
__d("PolarisResetPasswordStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._("Email, Phone, or Username");b=h._("Reset Password");c=h._("There was a problem resetting your password. Please try again soon.");d=h._("Trouble logging in?");e=h._("Send login link");f=h._("Create new account");var i=h._("Back to login");h=h._("Enter your email, phone, or username and we'll send you a link to get back into your account.");g.EMAIL_OR_USERNAME_OR_PHONE=a;g.RESET_PASSWORD_BUTTON=b;g.RESET_PASSWORD_GENERIC_FAILURE_TEXT=c;g.ACCOUNT_RECOVERY_TITLE=d;g.SEND_LOGIN_LINK=e;g.CREATE_A_NEW_ACCOUNT=f;g.BACK_TO_LOGIN=i;g.ACCOUNT_RECOVERY_PARAGRAPH_WITH_PHONE=h}),98);
__d("PolarisUHLAccountRecoveryLink.react",["cx","fbt","IGDSBox.react","IGDSText.react","PolarisConfig","PolarisFastLink.react","PolarisLoginLogger","PolarisNavigationActions","PolarisQueryParamsHelper","PolarisReactRedux","PolarisUA","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){var b=a.isAccountSwitcherOpen,e=a.isLoginScreen;a=a.username;var f=d("PolarisReactRedux").useDispatch(),g=function(){return f(d("PolarisNavigationActions").closeAccountSwitcher())},h=function(){d("PolarisLoginLogger").logLoginEvent({event_name:"recover_your_account_click"}),b&&g()},j=i._("Recover your account"),l=i._("Can't reset your password?");e=e?j:l;j=d("PolarisUA").isMobile()?k.jsx(c("IGDSText.react").Body,{color:"primaryButton",children:e}):k.jsx(c("IGDSText.react").Footnote,{color:"link",zeroMargin:!0,children:e});l="/accounts/account_recovery/";l=d("PolarisQueryParamsHelper").appendQueryParams(l,{username:(e=a)!=null?e:""});return d("PolarisUA").isMobile()&&!(b&&d("PolarisConfig").isLoggedIn())?k.jsx(c("IGDSBox.react"),{direction:"row",justifyContent:"center",marginBottom:2,marginEnd:10,marginStart:10,paddingY:1,position:"relative",children:k.jsx(c("PolarisFastLink.react"),{href:l,onClick:h,children:j},"uhl")}):k.jsx(c("PolarisFastLink.react"),{className:d("PolarisUA").isMobile()?"_aepm"+(b&&d("PolarisConfig").isLoggedIn()?" _aepn":""):"_aayn",href:l,onClick:h,children:j},"uhl")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisResetPasswordPage.react",["cx","IGCoreDialog","IGDSBox.react","IGDSButton.react","IGDSText.react","PolarisFXCalSSOLogger","PolarisGenericMobileHeader.react","PolarisGenericStrings","PolarisIGCoreLabeledTextInput","PolarisInstagramMobileLogoTitle.react","PolarisLinkBuilder","PolarisLoginLogger","PolarisOrBar.react","PolarisPageMetadata.react","PolarisPlainShell.react","PolarisQueryParams","PolarisResetPasswordStrings","PolarisRoutes","PolarisShell.react","PolarisUA","PolarisUHLAccountRecoveryLink.react","isStringNullOrEmpty","keyMirror","react","usePrevious"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useEffect,m=b.useState,n="resetPassword",o=c("keyMirror")({fxcal:null});function a(a){var b=a.apiStatus,e=a.history,f=a.isLoggedIn,g=a.isResetProcessing,h=a.location,i=a.modal,p=a.onSubmitPasswordReset,q=a.query;a=function(){var a=d("PolarisQueryParams").parseQueryParams(),b=a.source;a=a.username;if(!c("isStringNullOrEmpty")(q))return q;else if(b===o.fxcal&&a!=null&&a!=="")return a;return""};a=m(a());var r=a[0],s=a[1];a=m(!1);var t=a[0],u=a[1],v=c("usePrevious")(i),w=function(){return d("PolarisQueryParams").parseQueryParams().source},x=k(function(){var a=w();return a===o.fxcal?o.fxcal:null},[]);l(function(){var a=x();a===o.fxcal&&d("PolarisFXCalSSOLogger").logEvent({event:"passwordless_flow_trouble_logging_in_page_view"});v!==i&&u(!1)},[x,i,h.pathname,e,v,g,b]);var y=function(){var a=w();return a==="api-login"||a==="fxcal"},z=function(){return d("PolarisQueryParams").parseQueryParams().app_id},A=function(){return d("PolarisQueryParams").parseQueryParams().source_account_id},B=function(a){s(a.target.value)},C=function(a){a&&a.preventDefault();if(E())return;a=x();a===o.fxcal&&d("PolarisFXCalSSOLogger").logEvent({event:"passwordless_flow_trouble_logging_in_page_button_tapped"});var b=z(),c=A();p(r,a,b,c)};a=function(){d("PolarisLoginLogger").logLoginEvent({event_name:"account_recovery_page_signup_clicked"})};h=function(a){d("PolarisLoginLogger").logLoginEvent({event_name:"account_recovery_page_login_clicked"}),y()&&(a.preventDefault(),e.goBack())};b=function(){u(!0)};var D=function(){var a=f&&!c("isStringNullOrEmpty")(q);return j.jsx("form",{method:"post",onSubmit:C,children:j.jsx(c("PolarisIGCoreLabeledTextInput"),{disabled:a||g,name:"cppEmailOrUsername",onChange:B,placeholder:d("PolarisResetPasswordStrings").EMAIL_OR_USERNAME_OR_PHONE,value:r})})},E=function(){return r.length===0};t=j.jsxs(c("IGDSBox.react"),{"data-testid":void 0,position:"relative",children:[j.jsx(c("PolarisPageMetadata.react"),{id:n,title:d("PolarisResetPasswordStrings").RESET_PASSWORD_BUTTON}),i&&!t?j.jsx(d("IGCoreDialog").IGCoreDialog,{body:i.body,title:i.title,children:j.jsx(d("IGCoreDialog").IGCoreDialogItem,{color:"ig-primary-button",onClick:b,children:d("PolarisGenericStrings").OK_TEXT})}):null,j.jsx(c("IGDSBox.react"),{border:f&&!d("PolarisUA").isMobile(),color:f&&!d("PolarisUA").isMobile()?"primaryBackground":void 0,flex:"grow",justifyContent:"center",marginEnd:"auto",marginStart:"auto",maxWidth:388,position:"relative",children:j.jsxs(c("IGDSBox.react"),{marginBottom:f?4:void 0,marginTop:f?4:void 0,position:"relative",children:[j.jsx(c("IGDSBox.react"),{alignItems:"center",marginBottom:4,marginTop:6,position:"relative",children:j.jsx("span",{className:"_9-1a"})}),j.jsx(c("IGDSBox.react"),{marginBottom:4,marginEnd:11,marginStart:11,marginTop:0,position:"relative",children:j.jsx(c("IGDSText.react").Section,{textAlign:"center",children:d("PolarisResetPasswordStrings").ACCOUNT_RECOVERY_TITLE})}),j.jsx(c("IGDSBox.react"),{marginBottom:4,marginEnd:11,marginStart:11,marginTop:0,position:"relative",children:j.jsx(c("IGDSText.react").Body,{color:"secondaryText",textAlign:"center",children:d("PolarisResetPasswordStrings").ACCOUNT_RECOVERY_PARAGRAPH_WITH_PHONE})}),j.jsx(c("IGDSBox.react"),{marginBottom:4,marginEnd:11,marginStart:11,marginTop:0,position:"relative",children:D()}),j.jsxs(c("IGDSBox.react"),{marginBottom:4,marginEnd:11,marginStart:11,marginTop:0,position:"relative",children:[j.jsx(c("IGDSButton.react"),{display:"block",isDisabled:E()||g,label:d("PolarisResetPasswordStrings").SEND_LOGIN_LINK,onClick:C}),j.jsx(c("PolarisUHLAccountRecoveryLink.react"),{isAccountSwitcherOpen:!1,isLoginScreen:!1,username:r})]}),!f&&x()!==o.fxcal&&j.jsxs(j.Fragment,{children:[j.jsx(c("IGDSBox.react"),{marginBottom:4,marginEnd:11,marginStart:11,marginTop:4,position:"relative",children:j.jsx(c("PolarisOrBar.react"),{})}),j.jsx(c("IGDSBox.react"),{marginBottom:4,marginEnd:11,marginStart:11,marginTop:0,position:"relative",children:j.jsx(c("IGDSButton.react"),{display:"block",href:d("PolarisRoutes").EMAIL_SIGNUP_PATH,label:d("PolarisResetPasswordStrings").CREATE_A_NEW_ACCOUNT,onClick:a,variant:"secondary_link"})}),j.jsx(c("IGDSBox.react"),{bottom:!0,left:!0,marginTop:d("PolarisUA").isMobile()?0:17,position:d("PolarisUA").isMobile()?"fixed":"static",right:!0,children:j.jsx(c("IGDSBox.react"),{border:!0,color:"secondaryBackground",height:44,justifyContent:"around",position:"relative",children:j.jsx(c("IGDSButton.react"),{display:"block",href:d("PolarisLinkBuilder").buildLoginLink("",{source:"reset_password"}),label:d("PolarisResetPasswordStrings").BACK_TO_LOGIN,onClick:h,variant:"secondary_link"})})})]})]})})]});return f?j.jsx(c("PolarisShell.react"),{mobileHeader:j.jsx(c("PolarisGenericMobileHeader.react"),{title:j.jsx(c("PolarisInstagramMobileLogoTitle.react"),{isLink:!0})}),pageIdentifier:n,children:j.jsx("div",{className:"x78zum5 xdt5ytf x1iyjqo2",children:j.jsx(c("IGDSBox.react"),{height:"100%",justifyContent:"center",position:"relative",children:t})})}):j.jsx(c("PolarisPlainShell.react"),{className:"x78zum5 xdt5ytf",hideFooter:d("PolarisUA").isMobile(),pageIdentifier:n,children:t})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisAPIResetPassword",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){c={app_id:c,email_or_username:a,flow:b,source_account_id:e};return d("PolarisInstapi").apiPost("/api/v1/web/accounts/account_recovery_send_ajax/",{body:c}).then(function(a){return babelHelpers["extends"]({},a.data,{status:a.status})})}g.resetPassword=a}),98);
__d("PolarisAPITypes",["keyMirror"],(function(a,b,c,d,e,f,g){"use strict";a=c("keyMirror")({failure:null,ok:null});g.APIStatusValues=a}),98);
__d("PolarisSettingsActionCommitResetPassword",["PolarisAPIResetPassword","PolarisAPITypes","PolarisLoginLogger","PolarisResetPasswordStrings"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){return function(f){f({type:"PASSWORD_RESET_REQUESTED"});d("PolarisLoginLogger").logLoginEvent({event_name:"password_reset_link_requested"});return d("PolarisAPIResetPassword").resetPassword(a,b,c,e).then(function(a){var b=a.body,c=a.message,e=a.status,g=a.title;a=a.toast_message;a=(a=a)!=null?a:c;f({modal:g!=null&&b!=null?{body:b,title:g}:null,status:e,toast:a!=null?{text:a}:null,type:"PASSWORD_RESET_CONFIRMED"});d("PolarisLoginLogger").logLoginEvent({event_name:"password_reset_link_request_success"})},function(a){a=a.responseText;var b=d("PolarisResetPasswordStrings").RESET_PASSWORD_GENERIC_FAILURE_TEXT;try{a=JSON.parse(a);a=a.message;a&&(b=a)}catch(a){}f({status:d("PolarisAPITypes").APIStatusValues.failure,toast:{text:b},type:"PASSWORD_RESET_FAILED"});d("PolarisLoginLogger").logLoginEvent({event_name:"password_reset_link_request_failed"})})}}g.commitResetPassword=a}),98);
__d("PolarisResetPasswordPageContainer.react",["IGRouter","PolarisReactRedux","PolarisResetPasswordPage.react","PolarisRoutes","PolarisSettingsActionCommitResetPassword","isStringNullOrEmpty","polarisSettingsReducer","polarisUserSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a,b){var e;b=b.history;var f=d("polarisUserSelectors").getViewer__DEPRECATED(a),g=f!==null,h=a==null?void 0:(e=a.auth)==null?void 0:(e=e.accountRecovery)==null?void 0:e.query,i=(e=b.location.state)==null?void 0:(b=e.previousLocation)==null?void 0:b.pathname;function j(){if(!c("isStringNullOrEmpty")(h))return h;return g?i===d("PolarisRoutes").PASSWORD_CHANGE_PATH?f==null?void 0:f.username:null:f==null?void 0:f.username}return{apiStatus:d("polarisSettingsReducer").getPasswordResetStatus(a),isLoggedIn:g,isResetProcessing:d("polarisSettingsReducer").isResetProcessing(a),modal:a==null?void 0:(e=a.settings)==null?void 0:e.passwordResetModal,query:j()}}function b(a){return{onSubmitPasswordReset:function(b,c,e,f){a(d("PolarisSettingsActionCommitResetPassword").commitResetPassword(b,c,e,f))}}}e=d("IGRouter").withIGRouter(d("PolarisReactRedux").connect(a,b)(c("PolarisResetPasswordPage.react")));g["default"]=e}),98);
__d("PolarisAccountRecoveryPasswordResetRoot.react",["PolarisResetPasswordPageContainer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("PolarisResetPasswordPageContainer.react"),{})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisAccountStatusDisableRootQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6480184975380484"}),null);